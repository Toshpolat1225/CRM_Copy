<footer class="main-footer mainFooter">
  <strong>Copyright &copy; 2021 <a href="https://changeit.uz">Change IT academy</a>.</strong>
</footer>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="/dist/js/adminlte.min.js"></script>
<script src="/scripts/app.js"></script>
<script src="/dist/js/pages/dashboard.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"
  integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
{{#if isProject}}
<script>
  getLeftDate();
  function getLeftDate() {
    $(document).ready(function () {
      let projectDeadline =
        document.querySelectorAll(".project_deadline1");
      projectDeadline.forEach(c => {
        const parent = c.parentNode.parentNode.parentNode
        const projectTime = parent.querySelector('.project_progress small .projectTime #timer_wrap')
        function get_timer() {
          let date_t = new Date(c.innerHTML);
          let date = new Date();
          let timer = date_t - date;

          if (date_t > date) {
            let day = parseInt(timer / (60 * 60 * 1000 * 24));
            if (day < 10) {
              day = "0" + day;
            }
            day = day.toString();
            let hour = parseInt(timer / (60 * 60 * 1000)) % 24;
            if (hour < 10) {
              hour = "0" + hour;
            }
            hour = hour.toString();
            let min = parseInt(timer / (1000 * 60)) % 60;
            if (min < 10) {
              min = "0" + min;
            }
            min = min.toString();
            let sec = parseInt(timer / 1000) % 60;
            if (sec < 10) {
              sec = "0" + sec;
            }
            sec = sec.toString();
            if (
              day[1] == 9 &&
              hour[0] == 2 &&
              hour[1] == 3 &&
              min[0] == 5 &&
              min[1] == 9 &&
              sec[0] == 5 &&
              sec[1] == 9
            ) {
              animation(projectTime.querySelector("#day0"), day[0]);
            } else {
              projectTime.querySelector("#day0").innerHTML = day[0];
            }
            if (
              hour[0] == 2 &&
              hour[1] == 3 &&
              min[0] == 5 &&
              min[1] == 9 &&
              sec[0] == 5 &&
              sec[1] == 9
            ) {
              animation(projectTime.querySelector("#day1"), day[1]);
            } else {
              projectTime.querySelector("#day1").innerHTML = day[1];
            }
            if (
              hour[1] == 3 &&
              min[0] == 5 &&
              min[1] == 9 &&
              sec[0] == 5 &&
              sec[1] == 9
            ) {
              animation(projectTime.querySelector("#hour0"), hour[0]);
            } else {
              projectTime.querySelector("#hour0").innerHTML = hour[0];
            }
            if (min[0] == 5 && min[1] == 9 && sec[0] == 5 && sec[1] == 9) {
              animation(projectTime.querySelector("#hour1"), hour[1]);
            } else {
              projectTime.querySelector("#hour1").innerHTML = hour[1];
            }
            if (min[1] == 9 && sec[0] == 5 && sec[1] == 9) {
              animation(projectTime.querySelector("#min0"), min[0]);
            } else {
              projectTime.querySelector("#min0").innerHTML = min[0];
            }
            if (sec[0] == 5 && sec[1] == 9) {
              animation(projectTime.querySelector("#min1"), min[1]);
            } else {
              projectTime.querySelector("#min1").innerHTML = min[1];
            }
            if (sec[1] == 9) {
              animation(projectTime.querySelector("#sec0"), sec[0]);
            } else {
              projectTime.querySelector("#sec0").innerHTML = sec[0];
            }
            animation(projectTime.querySelector("#sec1"), sec[1]);
            setTimeout(get_timer, 1000);
          } else {
            projectTime.querySelector("#clock").innerHTML = "<span id='stop'>Ran out of time!</span>";
          }
        }
        function animation(vibor, param) {
          vibor.innerHTML = param
        }
        get_timer();
      }) 

    });
  }
</script>
{{/if}}
{{#if isView}}
<script>
  getLeftDate();
  function getLeftDate() {
    const projectDeadline =
      document.querySelector(".project_deadline").innerHTML;
    $(document).ready(function () {
      function get_timer() {
          let date_t = new Date(projectDeadline);
          let date = new Date();
          let timer = date_t - date;
          if (date_t > date) {
            let day = parseInt(timer / (60 * 60 * 1000 * 24));
            if (day < 10) {
              day = "0" + day;
            }
            day = day.toString();
            let hour = parseInt(timer / (60 * 60 * 1000)) % 24;
            if (hour < 10) {
              hour = "0" + hour;
            }
            hour = hour.toString();
            let min = parseInt(timer / (1000 * 60)) % 60;
            if (min < 10) {
              min = "0" + min;
            }
            min = min.toString();
            let sec = parseInt(timer / 1000) % 60;
            if (sec < 10) {
              sec = "0" + sec;
            }
            sec = sec.toString();
            if (
              day[1] == 9 &&
              hour[0] == 2 &&
              hour[1] == 3 &&
              min[0] == 5 &&
              min[1] == 9 &&
              sec[0] == 5 &&
              sec[1] == 9
            ) {
              animation(document.querySelector("#day0"), day[0]);
            } else {
              document.querySelector("#day0").innerHTML = day[0];
            }
            if (
              hour[0] == 2 &&
              hour[1] == 3 &&
              min[0] == 5 &&
              min[1] == 9 &&
              sec[0] == 5 &&
              sec[1] == 9
            ) {
              animation(document.querySelector("#day1"), day[1]);
            } else {
              document.querySelector("#day1").innerHTML = day[1];
            }
            if (
              hour[1] == 3 &&
              min[0] == 5 &&
              min[1] == 9 &&
              sec[0] == 5 &&
              sec[1] == 9
            ) {
              animation(document.querySelector("#hour0"), hour[0]);
            } else {
              document.querySelector("#hour0").innerHTML = hour[0];
            }
            if (min[0] == 5 && min[1] == 9 && sec[0] == 5 && sec[1] == 9) {
              animation(document.querySelector("#hour1"), hour[1]);
            } else {
              document.querySelector("#hour1").innerHTML = hour[1];
            }
            if (min[1] == 9 && sec[0] == 5 && sec[1] == 9) {
              animation(document.querySelector("#min0"), min[0]);
            } else {
              document.querySelector("#min0").innerHTML = min[0];
            }
            if (sec[0] == 5 && sec[1] == 9) {
              animation(document.querySelector("#min1"), min[1]);
            } else {
              document.querySelector("#min1").innerHTML = min[1];
            }
            if (sec[1] == 9) {
              animation(document.querySelector("#sec0"), sec[0]);
            } else {
              document.querySelector("#sec0").innerHTML = sec[0];
            }
            animation(document.querySelector("#sec1"), sec[1]);
            setTimeout(get_timer, 1000);
          } else {
            document.querySelector("#clock").innerHTML = "<span id='stop'>Срок окончен!</span>";
          }
        }
        function animation(vibor, param) {
          vibor.innerHTML = param
        }
        get_timer();
    });
  }
</script>
{{/if}}
{{#if isTrainee}}
<script>
  AddWorkers();
  function AddWorkers() {
    const addWorker = document.querySelectorAll(".addWorker1");
    const cardBody = document.querySelector(".cardBody");
    let i = 0;
    addWorker.forEach((elem) => {
      elem.addEventListener("click", () => {
        i++;
        const worker = document.createElement(`div`);
        worker.classList.add("workerBlock");
        fetch("/projects/add/worker", {
          method: "get",
        })
          .then((res) => res.json())
          .then((workers) => {
            const html = workers.map((c) => {
              return `
                  <option value="${c._id}">${c.fullname}</option>
                `;
            });
            worker.innerHTML = `
            <div class="form-group col-10">
            <label for="selectGroup${i}">Стажер</label>
            <select id="selectGroup${i}" class="form-control select2" name="workers" style="width: 100%;">
              ${html}
            </select>
            </div>
              <div class="crossRow">
                  <p class="removeWorker1"><svg class="removeWorker1"
                    stroke="currentColor"
                    fill="currentColor"
                    stroke-width="0"
                    version="1.1"
                    viewBox="0 0 16 16"
                    height="1em"
                    width="1em"
                    xmlns="http://www.w3.org/2000/svg"
                  ><path class="removeWorker1"
                      d="M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"></path></svg></p>
               </div>
            `;
            cardBody.appendChild(worker);
            const crosRow = document.querySelectorAll(".workerBlock");
            crosRow.forEach((elem) => {
              elem.addEventListener("click", function (event) {
                if (event.target.classList.contains("removeWorker1")) {
                  this.remove();
                }
              });
            });
          });
      });
    });
    const crosRow = document.querySelectorAll(".workerBlock");
    crosRow.forEach((elem, index, parent) => {
      elem.addEventListener("click", function (event) {
        if (event.target.classList.contains("removeWorker1")) {
          this.remove();
        }
      });
    });
  }
</script>
<script>
console.log('asd')
  getLeftDate();
  function getLeftDate() {
    $(document).ready(function () {
      let projectDeadline =
        document.querySelectorAll(".project_deadline1");
      projectDeadline.forEach(c => {
        const parent = c.parentNode.parentNode.parentNode
        const projectTime = parent.querySelector('.project_progress small .projectTime #timer_wrap')
        console.log(projectTime)
        function get_timer() {
          let date_t = new Date(c.innerHTML);
          let date = new Date();
          let timer = date_t - date;
          if (date_t > date) {
            let day = parseInt(timer / (60 * 60 * 1000 * 24));
            if (day < 10) {
              day = "0" + day;
            }
            day = day.toString();
            let hour = parseInt(timer / (60 * 60 * 1000)) % 24;
            if (hour < 10) {
              hour = "0" + hour;
            }
            hour = hour.toString();
            let min = parseInt(timer / (1000 * 60)) % 60;
            if (min < 10) {
              min = "0" + min;
            }
            min = min.toString();
            let sec = parseInt(timer / 1000) % 60;
            if (sec < 10) {
              sec = "0" + sec;
            }
            sec = sec.toString();
            if (
              day[1] == 9 &&
              hour[0] == 2 &&
              hour[1] == 3 &&
              min[0] == 5 &&
              min[1] == 9 &&
              sec[0] == 5 &&
              sec[1] == 9
            ) {
              animation(projectTime.querySelector("#day0"), day[0]);
            } else {
              projectTime.querySelector("#day0").innerHTML = day[0];
            }
            if (
              hour[0] == 2 &&
              hour[1] == 3 &&
              min[0] == 5 &&
              min[1] == 9 &&
              sec[0] == 5 &&
              sec[1] == 9
            ) {
              animation(projectTime.querySelector("#day1"), day[1]);
            } else {
              projectTime.querySelector("#day1").innerHTML = day[1];
            }
            if (
              hour[1] == 3 &&
              min[0] == 5 &&
              min[1] == 9 &&
              sec[0] == 5 &&
              sec[1] == 9
            ) {
              animation(projectTime.querySelector("#hour0"), hour[0]);
            } else {
              projectTime.querySelector("#hour0").innerHTML = hour[0];
            }
            if (min[0] == 5 && min[1] == 9 && sec[0] == 5 && sec[1] == 9) {
              animation(projectTime.querySelector("#hour1"), hour[1]);
            } else {
              projectTime.querySelector("#hour1").innerHTML = hour[1];
            }
            if (min[1] == 9 && sec[0] == 5 && sec[1] == 9) {
              animation(projectTime.querySelector("#min0"), min[0]);
            } else {
              projectTime.querySelector("#min0").innerHTML = min[0];
            }
            if (sec[0] == 5 && sec[1] == 9) {
              animation(projectTime.querySelector("#min1"), min[1]);
            } else {
              projectTime.querySelector("#min1").innerHTML = min[1];
            }
            if (sec[1] == 9) {
              animation(projectTime.querySelector("#sec0"), sec[0]);
            } else {
              projectTime.querySelector("#sec0").innerHTML = sec[0];
            }
            animation(projectTime.querySelector("#sec1"), sec[1]);
            setTimeout(get_timer, 1000);
          } else {
            projectTime.querySelector("#clock").innerHTML = "<span id='stop'>Срок окончен!</span>";
          }
        }
        function animation(vibor, param) {
          vibor.innerHTML = param
        }
        get_timer();
      }) 

    });
  }
</script>
{{/if}}